<div class="row fixed-top">
  <div class="col-12 bg-barra">
    <div class="row">
      <div class="col m-2">
        <img src="/assets/img/icono80.png" alt="LISAH" width="30" />
        <strong> {{acronym}} - {{costumer}} </strong>
        <button
          class="btn btn-white text-primary"
          title="Menu"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasDarkNavbar"
          aria-controls="offcanvasDarkNavbar"
          aria-label="Toggle navigation"
        >
          <i class="fas fa-bars"></i>
        </button>
      </div>
      <div class="col text-end m-1">
        <!-- <button class="navbar-toggler border0 " type="button" data-bs-toggle="offcanvas" data-bs-target="#offProfile" aria-controls="offProfile" aria-label="Toggle navigation">
          <i class="fas fa-user fa-fw"></i> <span class="badge text-bg-secondary">0</span>
        </button>

        <button  class="navbar-toggler border0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button> -->

        <button class="btn btn-white text-primary" title="Notificaciones">
          <i class="fas fa-bell mr-1"></i>
          <span class="badge text-bg-warning">0</span>
        </button>
        <button
          class="btn btn-white text-primary"
          title="Opciones de Usuario"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offProfile"
          aria-controls="offProfile"
          aria-label="Toggle navigation"
        >
          <i class="fas fa-user fa-fw"></i> {{user.nombre}}
        </button>
      </div>
    </div>
  </div>
</div>
<div class="body-content">
  <router-outlet />
</div>



<!-- Menu -->
<div class="container-fluid">
  <div class="offcanvas offcanvas-start text-bg-light" tabindex="-1" id="offcanvasDarkNavbar" aria-labelledby="offcanvasDarkNavbarLabel" >
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">
        <img src="/assets/img/icono80.png" alt="LISAH" width="30" /> {{acronym}} - {{costumer}} </h5>
      <button #btnClose type="button" class="btn-close btn-close-dark" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <ul class="menu">
        @if(lstMenu.length>0){ 
          @for (m of lstMenu; track $index) {
            @if(m.es_submenu == 1){
              <li class="submenu">
                 <span>{{m.nombre}}</span>
              </li>
      
              <ul class="item-group">
                @for (c of m.child; track $index) {
                  <li class="item">
                    <button class="btn btn-white " (click)="execRuta(`${m.nombre}|${c.nombre}|${c.icono}|${c.ruta}`)">
                      <i class="{{c.icono}} mr-2 iconomenu"></i>
                      <span>{{c.nombre}}</span>
                    </button>
                  </li>
                }
              </ul>
            } @else{
            }
          }
        } @else {
           <span>-- Sin Items en el menu --</span>
        }
      </ul>
      <!-- <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
        @if(lstMenu.length>0){ @for (m of lstMenu; track $index) {
        @if(m.es_submenu == 1){
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="true">
            <i class="{{m.icono}} mr-2"></i> <span>{{m.nombre}}</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-light">
            @for (c of m.child; track $index) {
            <li>
              <a
                class="dropdown-item"
                href="javascript:void(0)"
                (click)="execRuta(c.ruta)"
              >
                <i class="{{c.icono}} mr-2 itemmenu"></i>
                <span>{{c.nombre}}</span>
              </a>
            </li>
            }
          </ul>
        </li>
        } @else {
        <span>-- Sin Items en el menu --</span>
        } } }
      </ul> -->
    </div>
  </div>

  <!-- SLIDE DE OPCIONES -->

  <div
    class="offcanvas offcanvas-end text-bg-blue"
    tabindex="-1"
    id="offProfile"
    aria-labelledby="offProfileLabel"
  >
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offProfileLabel">
        <img src="/assets/img/icono80.png" alt="LISAH" width="30" /> {{acronym}} - Opciones de Usuario
      </h5>
      <button type="button" class="btn-close btn-close-dark" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <ul class="navbar-nav">
        <li class="nav-item bg-opciones-fondo">
          <i class="fas fa-user fa-fw t30 mt-2 mr-2 col1"></i>
          <div class="col2">
            {{user.nombre}} <br />
            <small>{{user.roles.nombre}}</small>
          </div>
          <div class="text-center p-1 col1">
            <button class="btn btn-link">
              <i class="far fa-edit text-black t20"></i>
            </button>
            <button class="btn btn-link" (click)="closeSession()">
              <i class="fas fa-power-off text-danger t20"></i>
            </button>
          </div>
        </li>
        <li class="mt-3">
          <h6>Notificaciones</h6>
        </li>
        <li>
          <table class="table table-striped">
            <tbody>
              @if(lstNotificaciones.length>0){ @for (item of lstNotificaciones;
              track $index) {
              <tr>
                <td>
                  <i class="far fa-bell"></i> {{item.label}} <br />
                  <small>10/12/2026</small>
                </td>
                <td>
                  <select class="form-control" name="" id="">
                    <option value="">-Accion-</option>
                    <option value="{{item.id}}">Ver</option>
                    <option value="{{item.id}}">Marcar Leido</option>
                  </select>
                </td>
              </tr>
              } } @else {
              <tr>
                <li>
                  <i class="far fa-bell-slash"></i>
                  <small>Sin Notificaciones</small>
                </li>
              </tr>
              }
            </tbody>
          </table>
        </li>

        <li class="bg-opciones-fondo">asd</li>
      </ul>
    </div>
  </div>
</div>
